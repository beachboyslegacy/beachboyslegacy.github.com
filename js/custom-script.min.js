$(function(){function e(){var e=$("#artist").height()+20,t=$("#category").height()+20;$("#artist").css({"min-height":e}),$("#category").css({"min-height":t})}$.getJSON("js/data.jsonld",function(e){function t(t,i){var a,s=0,r=0,l=t,o=i,d=0,_=0,u=0,v="<li></li>",h=0,g=0,b="<tr></tr>";if($(".items").empty(),$("#backToTop").remove(),"solo"==o){for(a=0;c>a;a++)if(1==e.items[a].parent.category.solo){for(s++,d=e.items[a].parent.releaseMonth,_=0==d?"":p[d-1],u=e.items[a].parent.releaseDay,u=0==u?"":u,v='<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Solo')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Released on "+_+" "+u+", "+e.items[a].parent.releaseYear+"</p><p>"+e.items[a].parent.publisher+" ("+e.items[a].parent.country+") "+e.items[a].parent.catalogNumber+"</p><p>Produced by "+e.items[a].parent.producer+"</p><p>Chart position: #"+e.items[a].parent.billboardPosition+'</p></div><div class="parent-item__tracklist"><table><tbody><tr><td>Title</td><td></td><td>Composer</td></tr></tbody></table></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>',v=$(v),$(".items").append(v),g=e.items[a].parent.track.itemListElement.length,r=0;g>r;r++)e.items[a].parent.numberOfDiscs>1&&1==e.items[a].parent.track.itemListElement[r].item.trackNumber&&v.find(".parent-item__tracklist tbody tr:last-child").after('<tr class="discnumber"><td colspan="3">Disc '+e.items[a].parent.track.itemListElement[r].item.disc+"</td></tr>"),b=1==e.items[a].parent.track.itemListElement[r].item.hit?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/star.svg" /> HIT</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":1==e.items[a].parent.track.itemListElement[r].item.inthit?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/inthit.svg" /> HIT</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":1==e.items[a].parent.track.itemListElement[r].item.gem?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/gem.svg" /> GEM</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+"</td><td></td><td>"+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>",v.find(".parent-item__tracklist tbody").append(b);$(".scroll-to-anchor").smoothScroll({offset:-44})}m()}else if("book"==o){for(a=0;c>a;a++)d=e.items[a].parent.releaseMonth,_=0==d?"":p[d-1],u=e.items[a].parent.releaseDay,u=0==u?"":u,1==e.items[a].parent.category.book&&"The Beach Boys"==l?(s++,v='<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__subtitle">'+e.items[a].parent.alternateName+'</h3><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Book')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Release date: "+_+" "+u+" "+e.items[a].parent.releaseYear+"</p><p>Author: "+e.items[a].parent.author.name+'</p></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>',v=$(v),$(".items").append(v),h=e.items[a].parent.aggregateRating):e.items[a].parent.aboutArtist===l&&1==e.items[a].parent.category[o]&&(s++,v='<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.alternateName+'</h3><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Book')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Release date: "+_+" "+u+" "+e.items[a].parent.releaseYear+"</p><p>Author: "+e.items[a].parent.author.name+'</p></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>',v=$(v),$(".items").append(v)),$(".scroll-to-anchor").smoothScroll({offset:-44});m(),n()}else if("video"==o){for(a=0;c>a;a++)if(e.items[a].parent.byArtist===l&&1==e.items[a].parent.category[o]&&(s++,d=e.items[a].parent.releaseMonth,_=0==d?"":p[d-1],u=e.items[a].parent.releaseDay,u=0==u?"":u,e.items[a].parent.category.video))if(e.items[a].parent.subcategory.documentary||e.items[a].parent.subcategory.movie)v='<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Video')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Released on "+_+" "+u+", "+e.items[a].parent.releaseYear+"</p><p>"+e.items[a].parent.producer+"</p><p>Duration: "+e.items[a].parent.duration+'</p></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>',v=$(v),$(".items").append(v),$(".scroll-to-anchor").smoothScroll({offset:-44});else if(e.items[a].parent.subcategory.live){for(v='<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Video')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Released on "+_+" "+u+", "+e.items[a].parent.releaseYear+"</p><p>"+e.items[a].parent.producer+"</p><p>Duration: "+e.items[a].parent.duration+'</p></div><div class="parent-item__tracklist"><table><tbody><tr><td>Title</td><td></td><td>Composer</td></tr></tbody></table></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>',v=$(v),$(".items").append(v),g=e.items[a].parent.track.itemListElement.length,r=0;g>r;r++)e.items[a].parent.numberOfDiscs>1&&1==e.items[a].parent.track.itemListElement[r].item.trackNumber&&v.find(".parent-item__tracklist tbody tr:last-child").after('<tr class="discnumber"><td colspan="3">Disc '+e.items[a].parent.track.itemListElement[r].item.disc+"</td></tr>"),b=1==e.items[a].parent.track.itemListElement[r].item.hit?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/star.svg" /> HIT</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":1==e.items[a].parent.track.itemListElement[r].item.inthit?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/inthit.svg" /> HIT</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":1==e.items[a].parent.track.itemListElement[r].item.gem?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/gem.svg" /> GEM</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+"</td><td></td><td>"+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>",v.find(".parent-item__tracklist tbody").append(b);$(".scroll-to-anchor").smoothScroll({offset:-44})}n()}else for(a=0;c>a;a++)if(e.items[a].parent.byArtist===l&&1==e.items[a].parent.category[o]){if(s++,d=e.items[a].parent.releaseMonth,_=0==d?"":p[d-1],u=e.items[a].parent.releaseDay,u=0==u?"":u,v=e.items[a].parent.category.compilation?'<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Compilation')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Released on "+_+" "+u+", "+e.items[a].parent.releaseYear+"</p><p>"+e.items[a].parent.publisher+" ("+e.items[a].parent.country+") "+e.items[a].parent.catalogNumber+"</p><p>Chart position: #"+e.items[a].parent.billboardPosition+'</p></div><div class="parent-item__tracklist"><table><tbody><tr><td>Title</td><td></td><td>Composer</td></tr></tbody></table></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>':e.items[a].parent.category.single?'<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover single lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Compilation')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Released on "+_+" "+u+", "+e.items[a].parent.releaseYear+"</p><p>"+e.items[a].parent.publisher+" ("+e.items[a].parent.country+") "+e.items[a].parent.catalogNumber+"</p><p>Chart position: #"+e.items[a].parent.billboardPosition+'</p></div><div class="parent-item__tracklist"><table><tbody><tr><td>Title</td><td></td><td>Composer</td></tr></tbody></table></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>':e.items[a].parent.category.bootleg?'<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Album')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>"+e.items[a].parent.publisher+" ("+e.items[a].parent.country+") "+e.items[a].parent.catalogNumber+'</p></div><div class="parent-item__tracklist"><table><tbody><tr><td>Title</td><td></td><td></td></tr></tbody></table></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>':e.items[a].parent.category.production?'<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover single lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Album')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Released on "+_+" "+u+", "+e.items[a].parent.releaseYear+"</p><p>"+e.items[a].parent.publisher+" ("+e.items[a].parent.country+") "+e.items[a].parent.catalogNumber+"</p><p>Produced by "+e.items[a].parent.producer+"</p><p>Chart position: #"+e.items[a].parent.billboardPosition+'</p></div><div class="parent-item__tracklist"><table><tbody><tr><td>Title</td><td></td><td>Composer</td><td>Producer</td></tr></tbody></table></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>':'<li id="'+e.items[a].parent.uniqueId+'" data-rating="'+e.items[a].parent.aggregateRating+'" data-date="'+e.items[a].parent.releaseYear+'"><div class="item__header" style="background-color:'+e.items[a].parent.backgroundColor+'"><img class="item__cover lazy" data-original="'+e.items[a].parent.image+'" alt="'+e.items[a].parent.name+' cover"><div class="item__info"><h2 class="item__title">'+e.items[a].parent.name+'</h2><h3 class="item__year">'+e.items[a].parent.releaseYear+'</h3><div class="wpac-rating-ajax" data-wpac-chan="'+e.items[a].parent.uniqueId+'"></div><a href="#'+e.items[a].parent.uniqueId+"\" class=\"item__btn scroll-to-anchor\" onClick=\"ga('send', 'event', 'Details', 'click', 'Album')\">See details and editions</a></div></div><div class=\"item__body\"><div class=\"parent-item__info\"><p>Released on "+_+" "+u+", "+e.items[a].parent.releaseYear+"</p><p>"+e.items[a].parent.publisher+" ("+e.items[a].parent.country+") "+e.items[a].parent.catalogNumber+"</p><p>Produced by "+e.items[a].parent.producer+"</p><p>Chart position: #"+e.items[a].parent.billboardPosition+'</p></div><div class="parent-item__tracklist"><table><tbody><tr><td>Title</td><td></td><td>Composer</td></tr></tbody></table></div><ul class="child-items"></ul><div class="item__footer"><a href="#'+e.items[a].parent.uniqueId+'" class="item__close-btn scroll-to-anchor">Close "'+e.items[a].parent.name+'"</a></div></div></li>',v=$(v),$(".items").append(v),g=e.items[a].parent.track.itemListElement.length,e.items[a].parent.category.production){for(r=0;g>r;r++)b='<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+"</td><td></td><td>"+e.items[a].parent.track.itemListElement[r].item.composer+"</td><td>"+e.items[a].parent.track.itemListElement[r].item.producer+"</td></tr>";v.find(".parent-item__tracklist tbody").append(b)}else for(r=0;g>r;r++)e.items[a].parent.numberOfDiscs>1&&1==e.items[a].parent.track.itemListElement[r].item.trackNumber&&v.find(".parent-item__tracklist tbody tr:last-child").after('<tr class="discnumber"><td colspan="3">Disc '+e.items[a].parent.track.itemListElement[r].item.disc+"</td></tr>"),b=1==e.items[a].parent.track.itemListElement[r].item.hit?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/star.svg" /> HIT</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":1==e.items[a].parent.track.itemListElement[r].item.inthit?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/inthit.svg" /> HIT</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":1==e.items[a].parent.track.itemListElement[r].item.gem?'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+'</td><td class="hit-or-gem"><img src="assets/gem.svg" /> GEM</td><td>'+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>":'<tr><td><div class="tracknumber">'+e.items[a].parent.track.itemListElement[r].item.trackNumber+"</div>"+e.items[a].parent.track.itemListElement[r].item.name+"</td><td></td><td>"+e.items[a].parent.track.itemListElement[r].item.composer+"</td></tr>",v.find(".parent-item__tracklist tbody").append(b);$(".scroll-to-anchor").smoothScroll({offset:-44})}if(s>5){var k='<div class="backtotop-btn" id="backToTop"><a href="#sorting" class="scroll-to-anchor">Back to top</a></div>';$(".items").after(k),$(".scroll-to-anchor").smoothScroll({offset:-44})}$(".results-number").html(1==s?s+" item":s+" items"),$("html, body").animate({scrollTop:$(".items").offset().top-74},0),wpac_ajax_init()}function i(){$(".item__btn, .item__title, .item__year").on("click",function(){$(this).parent(".item__info").parent(".item__header").next(".item__body").slideToggle(200);var e=$(this).parent(".item__info").find(".item__btn");e.toggleClass("itemOpened"),e.html(e.hasClass("itemOpened")?"Hide details and editions":"See details and editions")}),$(".item__cover").on("click",function(){$(this).next(".item__info").parent(".item__header").next(".item__body").slideToggle(200);var e=$(this).next(".item__info").find(".item__btn");e.toggleClass("itemOpened"),e.html(e.hasClass("itemOpened")?"Hide details and editions":"See details and editions")})}function a(){$(".item__close-btn").on("click",function(){$(this).parent(".item__footer").parent(".item__body").slideToggle(50);var e=$(this).parent(".item__footer").parent(".item__body").prev(".item__header").find(".item__info").find(".item__btn");e.html("See details and editions").toggleClass("itemOpened")})}function s(){var t,s=0;$(".item__btn").on("click",function(){var i=$(this);if(i.hasClass("visited"))return 0;i.addClass("visited");var a=i.parent(".item__info").parent(".item__header").parent("li").attr("id");for(t=0;c>t;t++)if(a===e.items[t].parent.uniqueId)var r=t;var n=e.items[r].editions.length;for(s=n-1;s>=0;s--){if(e.items[r].parent.category.book){var l=e.items[r].editions[s].releaseMonth,m=0;if(0==l)m="";else var m=p[l-1];var o=e.items[r].editions[s].releaseDay;o=0==o?"":o;var d='<li><div class="child-item__header"><h3 class="child-item__title">'+e.items[r].editions[s].name+'</h3><h4 class="child-item__subtitle">'+e.items[r].editions[s].alternateName+'</h4><ul class="child-item__info"><li>'+m+" "+o+" "+e.items[r].editions[s].releaseYear+"</li><li>"+e.items[r].editions[s].publisher+"</li><li>"+e.items[r].editions[s].country+"</li><li>"+e.items[r].editions[s].bookFormat+"</li><li>"+e.items[r].editions[s].numberOfPages+" pages</li><li>ISBN: "+e.items[r].editions[s].isbn+'</li></ul></div><div class="child-item__body"><div class="child-item__sidebar"><div class="sticky-content"><a href="'+e.items[r].editions[s][g]+'" target="_blank"><img class="child-item__cover" src="'+e.items[r].editions[s].image+'" alt="'+e.items[r].editions[s].name+' cover"></a><a class="child-item__buy" href="'+e.items[r].editions[s][g]+"\" target=\"_blank\" onClick=\"ga('send', 'event', 'Amazon', 'click', 'Item')\">"+b+'</a></div></div><div class="child-item__book-review"><pre>'+e.items[r].editions[s].review+"</pre></div></div></li>"}else if(e.items[r].parent.category.video&&!e.items[r].parent.category.live){var l=e.items[r].editions[s].albumRelease.releaseMonth,m=0;if(0==l)m="";else var m=p[l-1];var o=e.items[r].editions[s].albumRelease.releaseDay;o=0==o?"":o;var d='<li><div class="child-item__header"><h3 class="child-item__title">'+e.items[r].editions[s].albumRelease.name+'</h3><ul class="child-item__info"><li>'+m+" "+o+" "+e.items[r].editions[s].albumRelease.releaseYear+"</li><li>"+e.items[r].editions[s].albumRelease.publisher+" ("+e.items[r].editions[s].albumRelease.country+")</li><li>"+e.items[r].editions[s].albumRelease.videoReleaseFormat+'</li></ul></div><div class="child-item__body"><div class="child-item__sidebar"><div class="sticky-content"><a href="'+e.items[r].editions[s].albumRelease[g]+'" target="_blank"><img class="child-item__cover" src="'+e.items[r].editions[s].albumRelease.image+'" alt="'+e.items[r].editions[s].albumRelease.name+' cover"></a><a class="child-item__buy" href="'+e.items[r].editions[s].albumRelease[g]+"\" target=\"_blank\" onClick=\"ga('send', 'event', 'Amazon', 'click', 'Item')\">"+b+'</a></div></div><div class="child-item__tracklist"><pre>'+e.items[r].editions[s].albumRelease.tracklist+"</pre></div></div></li>"}else{var l=e.items[r].editions[s].albumRelease.releaseMonth,m=0;if(0==l)m="";else var m=p[l-1];var o=e.items[r].editions[s].albumRelease.releaseDay;o=0==o?"":o;var d='<li><div class="child-item__header"><h3 class="child-item__title">'+e.items[r].editions[s].albumRelease.name+'</h3><ul class="child-item__info"><li>'+m+" "+o+" "+e.items[r].editions[s].albumRelease.releaseYear+"</li><li>"+e.items[r].editions[s].albumRelease.recordLabel+" ("+e.items[r].editions[s].albumRelease.country+") "+e.items[r].editions[s].albumRelease.catalogNumber+"</li><li>"+e.items[r].editions[s].albumRelease.musicReleaseFormat+'</li></ul></div><div class="child-item__body"><div class="child-item__sidebar"><div class="sticky-content"><a href="'+e.items[r].editions[s].albumRelease[g]+'" target="_blank"><img class="child-item__cover" src="'+e.items[r].editions[s].albumRelease.image+'" alt="'+e.items[r].editions[s].albumRelease.name+' cover"></a><a class="child-item__buy" href="'+e.items[r].editions[s].albumRelease[g]+"\" target=\"_blank\" onClick=\"ga('send', 'event', 'Amazon', 'click', 'Item')\">"+b+'</a></div></div><div class="child-item__tracklist"><pre>'+e.items[r].editions[s].albumRelease.tracklist+"</pre></div></div></li>"}d=$(d),$("#"+a).find(".item__body").find(".child-items").append(d),""==d.find(".child-item__buy").attr("href")&&d.find(".child-item__buy").remove(),$(".child-item__tracklist").each(function(){$(this).shorten({moreText:"Show full tracklist",lessText:"Show less",showChars:300})})}}),i(),a()}function r(){$.get("http://ipinfo.io",function(e){var t=e.country;console.log("country"+t),"GB"==t||"gb"==t||"UK"==t||"uk"==t?(g="amazonUk",b="Buy on amazon.co.uk"):"ES"==t||"es"==t?(g="amazonEs",b="Comprar en amazon.es"):"CA"==t||"ca"==t?(g="amazonCa",b="Buy on amazon.ca"):"DE"==t||"de"==t?(g="amazonDe",b="Kaufen bei amazon.de"):"FR"==t||"fr"==t?(g="amazonFr",b="Acheter sur amazon.fr"):"IT"==t||"it"==t?(g="amazonIt",b="Compra su amazon.it"):(g="amazonUs",b="Buy on amazon.com")},"jsonp")}function n(){var e=$(".items"),t=e.children("li");e.append(t.get().reverse())}function l(){function e(e,t){return $(t).data("rating")>$(e).data("rating")?1:-1}var t=$(".items"),i=t.children("li");i.sort(e).appendTo(t)}function m(){function e(e,t){return $(t).data("date")<$(e).data("date")?1:-1}var t=$(".items"),i=t.children("li");i.sort(e).appendTo(t)}function o(){$(".sorting li").removeClass("sorting__current"),$("#sorting-release").addClass("sorting__current")}function d(){$("img.lazy").lazyload({threshold:500,effect:"fadeIn",placeholder:"assets/preloader.svg"})}var c=e.items.length,p=["January","February","March","April","May","June","July","August","September","October","November","December"],_="The Beach Boys",u="album",v=_,h=u,g="amazonUs",b="Buy on amazon.com";t(_,u),r(),s(),d(),$("#artist li").on("click",function(){return $(this).hasClass("selector__options__current")?0:($("#artist li").removeClass("selector__options__current"),$(this).addClass("selector__options__current"),selectedArtistClass=$(this).attr("data-artistclass"),$("#category li."+selectedArtistClass).removeClass("hide-category"),$("#category li").not("."+selectedArtistClass).addClass("hide-category"),$("#current-category span").html("Albums"),$("#category li").removeClass("selector__options__current"),$("#category li:first-child").addClass("selector__options__current"),selectedArtist=$(this).attr("data-artist"),v=selectedArtist,t(selectedArtist,u),s(),d(),o(),void $("#sorting-rating").show())}),$("#category li").on("click",function(){return $(this).hasClass("selector__options__current")?0:($("#category li").removeClass("selector__options__current"),$(this).addClass("selector__options__current"),selectedCategory=$(this).attr("data-categoryname"),h=selectedCategory,t(v,selectedCategory),s(),d(),o(),void("book"==selectedCategory?$("#sorting-rating").hide():$("#sorting-rating").show()))}),$(".sorting li").on("click",function(){$(this).hasClass("sorting__current")?n():($(".sorting li").removeClass("sorting__current"),$(this).addClass("sorting__current"),$(this).is("#sorting-rating")?l():$(this).is("#sorting-release")&&m()),d()})}),e(),$(".selector__current").on("click",function(){$(this).next(".selector__options").slideToggle(200).toggleClass("open-menu")}),$(".selector__options li").on("click",function(){var e=$(this).parent(".selector__options");if($(".selector__current").is(":visible")){e.slideToggle(200).toggleClass("open-menu");var t=$(this).html();e.prev(".selector__current").find("span").html(t)}ga("send","event","Navigation","click","Filter")}),$("#open-overlay-menu").click(function(){$("#overlay-menu-screen").show(),$(".overlay-menu").animate({left:"0"}),$("body").addClass("disable-scrolling")}),$(".closeOverlayMenu").click(function(){$(".overlay-menu").animate({left:"-100%"}),setTimeout(function(){$("#overlay-menu-screen").fadeOut()},100),$("body").removeClass("disable-scrolling")}),$(".overlay-menu__header__nav ul li").click(function(){$(".overlay-menu__header__nav ul li").removeClass("selected"),$(this).addClass("selected"),$(".overlay-menu__content__section").hide()}),$("#about-this-site-tab").click(function(){$("#about-this-site").show()}),$("#about-the-authors-tab").click(function(){$("#about-the-authors").show()}),$("#contact-tab").click(function(){$("#contact").show()})});